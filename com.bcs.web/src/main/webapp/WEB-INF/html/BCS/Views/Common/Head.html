<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org">
<head th:fragment="head (title, pageJs)">

	<meta http-equiv="X-UA-Compatible" content="IE=edge,9,10"> 
	<!-- 取消網頁快取 start -->
	<meta http-equiv="cache-control" content="max-age=0" />
	<meta http-equiv="cache-control" content="no-cache" />
	<meta http-equiv="expires" content="0" />
	<meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
	<meta http-equiv="pragma" content="no-cache" />
	<!-- 取消網頁快取 end -->
	
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <meta name="viewport" content="width=device-width,initial-sale=1" />
    <link th:href="@{/BCS/Content/reset.css}" type="text/css" rel="stylesheet" />
    <link th:href="@{/BCS/Content/style.css}" type="text/css" rel="stylesheet" />
    <link th:href="@{/webjars/jquery-ui/1.11.4/jquery-ui.min.css}" type="text/css" rel="stylesheet" />
    <link th:href="@{/BCS/Content/vis.min.css}" type="text/css" rel="stylesheet" />
    <link th:href="@{/BCS/Content/lineRewardCard.css}" type="text/css" rel="stylesheet" />
    <script th:inline="javascript" type="text/javascript">
		var bcs = {
			user : {
				account : /*[[${#authentication.principal.account}]]*/ '',
				username : /*[[${#authentication.principal.username}]]*/ '',

				// admin 是 boolean，true 表示是 ROLE_ADMIN，false 表示不是 ROLE_ADMIN
				admin : /*[[${#authentication.principal.admin}]]*/ false,
				mid : /*[[${#authentication.principal.mid}]]*/ '',
				role : /*[[${#authentication.principal.role}]]*/ ''
			},
			bcsContextPath : /*[[@{/bcs}]]*/ '',
			bcsResourcePath : /*[[@{/BCS}]]*/ '',
			mContextPath : /*[[@{/m}]]*/ '',
			bcsBaseMessage : /*[[${bcsBaseMessage}]]*/ ''
		};
		//alert(JSON.stringify(bcs));
    </script>
	<script type='text/javascript' th:src='@{/webjars/jquery/2.2.3/jquery.min.js}'></script>
	<script type='text/javascript' th:src='@{/webjars/jquery-ui/1.11.4/jquery-ui.min.js}'></script>
	
	<!-- jQuery Validation Plugin -->
	<script type='text/javascript' th:src='@{/webjars/jquery-validation/1.15.0/jquery.validate.min.js}'></script>
	<script type='text/javascript' th:src='@{/webjars/jquery-validation/1.15.0/additional-methods.min.js}'></script>
	<script type='text/javascript' th:src="@{${@mvcResourceUrlProvider.getForLookupPath('/BCS/JS/jquery-validation/localization/messages_zh_TW.js')}}"></script>
	<script type='text/javascript' th:src="@{${@mvcResourceUrlProvider.getForLookupPath('/BCS/JS/jquery-validation/customValidation.js')}}"></script>
	
	<!-- jQuery blockUI -->
	<script type='text/javascript' th:src="@{${@mvcResourceUrlProvider.getForLookupPath('/BCS/JS/lib/jquery.blockui.js')}}"></script>
	
	<script type='text/javascript' th:src='@{/webjars/momentjs/2.13.0/min/moment.min.js}'></script>
	<script type='text/javascript' th:src='@{/webjars/moment-timezone/0.5.5/moment-timezone.js}'></script>
	
	<!-- jQuery-tagEditor -->
	<link th:href="@{/BCS/JS/jQuery-tagEditor/jquery.tag-editor.css}" type="text/css" rel="stylesheet" />
	<script type='text/javascript' th:src="@{${@mvcResourceUrlProvider.getForLookupPath('/BCS/JS/jQuery-tagEditor/jquery.caret.min.js')}}"></script>
	<script type='text/javascript' th:src="@{${@mvcResourceUrlProvider.getForLookupPath('/BCS/JS/jQuery-tagEditor/jquery.tag-editor.min.js')}}"></script>
	
	<script type='text/javascript' th:src="@{${@mvcResourceUrlProvider.getForLookupPath('/BCS/JS/core.js')}}"></script>
    <!-- <script type='text/javascript' th:src="@{${@mvcResourceUrlProvider.getForLookupPath('/BCS/JS/TsbSecurity-t.js')}}"></script> -->
	<script type='text/javascript' th:each="js : ${pageJs}"  th:if="${pageJs != null and pageJs != ''}" th:src='@{${@mvcResourceUrlProvider.getForLookupPath(js)}}'></script>
	<script language="javascript">
	try {
		Security.EMPID = '[[${#authentication.principal.account}]]';		// 帶入User帳號
		Security.EMPNM = '[[${#authentication.principal.username}]]';		    // 帶入User名稱
		Security.SYSDT = '[[${#authentication.principal.day}]]';	// 帶入當天日期
		
		var canCopy = [[${#authentication.principal.cancopy}]];
		var canPrinting = [[${#authentication.principal.canprinting}]];
	
	    // 依據使用者權限設定
		// 有列印&複製權限
		if (canCopy && canPrinting) {
			Security.DISABLED_SELECT = false;
			Security.DISABLED_DRAG = false;
			Security.DISABLED_RIGHT_CLICK = false;
			Security.DISABLED_PRT_SCR = false;
			Security.DISABLED_FILE_PRT = false;
			Security.DISABLED_CTRL_KEYS= '';
		} 
			// 沒列印有複製權限
		else if (canCopy && !canPrinting) {
			Security.DISABLED_SELECT = false;
			Security.DISABLED_DRAG = false;
			Security.DISABLED_RIGHT_CLICK = false;
			Security.DISABLED_CTRL_KEYS = '80';
		}
		// 有列印沒複製權限
		else if (!canCopy && canPrinting) {
			Security.DISABLED_FILE_PRT = false;
			Security.DISABLED_CTRL_KEYS = '67,88';
		}	
		
	    // 以下設定不會變動
		Security.CLIENT_IP = '127.0.0.1';			  // 設定Client IP
		Security.HTTPURL = '/OAMAS/Default.aspx'; // 設定站台網址
		Security.SERVER_IP = 'localhost';			  // 設定Server IP
		Security.CODEBASE = 'http://intranetweb/abub07/DownLoda/TaiShinSecurity2.CAB#version=2,0,0,0';
	} catch (e) {
	}
</script>
    <title th:text="${title}"></title>
</head>
<body>
</body>
</html>
